// Generated by CoffeeScript 1.6.2
(function() {
  angular.module("auction.controllers", []).controller("AppCtrl", function($scope) {}).controller("AuctionsCtrl", function($scope, auctionSvc) {
    return auctionSvc.getAuctions().then(function(result) {
      $scope.auctions = result.data;
    });
  }).controller("AuctionCtrl", function($scope, $stateParams, $ionicModal, auctionSvc) {
    auctionSvc.getAuction($stateParams['auctionId']).then(function(result) {
      $scope.auction = result.data;
    });
    $ionicModal.fromTemplateUrl("/templates/bid.html", {
      scope: $scope,
      animation: "slide-in-up"
    }).then(function(modal) {
      $scope.bidModal = modal;
    });
    $ionicModal.fromTemplateUrl("/templates/share.html", {
      scope: $scope,
      animation: "slide-in-up"
    }).then(function(modal) {
      $scope.shareModal = modal;
    });
    $scope.openModal = function(m) {
      switch (m) {
        case "bid":
          $scope.bidModal.show();
          break;
        case "share":
          $scope.shareModal.show();
      }
    };
    $scope.closeModal = function(m) {
      switch (m) {
        case "bid":
          $scope.bidModal.hide();
          break;
        case "share":
          $scope.shareModal.hide();
      }
    };
    $scope.$on("$destroy", function() {
      $scope.bidModal.remove();
      $scope.shareModal.remove();
    });
    return $scope.placeBid = function() {
      $scope.bidModal.remove();
    };
  });

}).call(this);
